(function () {
    function _Map(size) {

        function _initialize(size) {
            if (size != null)
                return _generateMap(size);
        }

        function _generateMap(size) {
            try {
                var retMap = {};
                switch (size) {
                    case '50x35':
                        retMap = { 'Map': { 'Blocks': [
                                  { 'P1': [2, 2], 'P2': [2, 14] }
                                , { 'P1': [4, 2], 'P2': [9, 2] }
                                , { 'P1': [1, 16], 'P2': [34, 16] }
                                , { 'P1': [9, 2], 'P2': [9, 16] }
                                , { 'P1': [11, 2], 'P2': [34, 2] }
                                , { 'P1': [34, 2], 'P2': [34, 16] }
                                , { 'P1': [2, 18], 'P2': [35, 18] }
                                , { 'P1': [9, 4], 'P2': [20, 4] }
                            //, { 'P1': [, ], 'P2': [, ] }
                                ]
                        }
                                , 'PointStart': [1, 1]
                                , 'PointEnd': [35, 50]
                                , 'Size': { 'Width': 50, 'Height': 35 }
                            //, 'events': { 'onError': showError }
                        };
                        break;
                    case '5x5':
                        retMap = { 'Map': { 'Blocks': [
                                  { 'P1': [2, 2], 'P2': [2, 4] }
                                , { 'P1': [1, 4], 'P2': [3, 4] }
                                , { 'P1': [4, 1], 'P2': [4, 2] }                                
                            //, { 'P1': [, ], 'P2': [, ] }
                                ]
                        }
                                , 'PointStart': [1, 1]
                                , 'PointEnd': [5, 5]
                                , 'Size': { 'Width': 5, 'Height': 5 }
                            //, 'events': { 'onError': showError }
                        };
                        break;
                    case '51x37':
                        retMap = { 'Map': { 'Blocks': [
                                { 'P1': [2, 1], 'P2': [2, 2] }
//                               , { 'P1': [1, 2], 'P2': [1, 2] }
                                , { 'P1': [2, 2], 'P2': [5, 2] }
                                , { 'P1': [5, 1], 'P2': [5, 2] }
                                , { 'P1': [1, 4], 'P2': [1, 12] }
                                , { 'P1': [1, 4], 'P2': [7, 4] }
                                , { 'P1': [7, 2], 'P2': [7, 4] }
                                , { 'P1': [7, 2], 'P2': [11, 2] }
                                , { 'P1': [11, 2], 'P2': [11, 4] }
                                , { 'P1': [13, 1], 'P2': [19, 1] }
                                , { 'P1': [13, 1], 'P2': [13, 6] }
                                , { 'P1': [3, 6], 'P2': [13, 6] }
                                , { 'P1': [9, 4], 'P2': [9, 6] }
                                , { 'P1': [3, 6], 'P2': [3, 16] }
                                , { 'P1': [2, 14], 'P2': [2, 22] }
                                , { 'P1': [2, 22], 'P2': [15, 22] }
                                , { 'P1': [2, 15], 'P2': [11, 16] }
                            //, { 'P1': [2, 16], 'P2': [7, 16] }
                                , { 'P1': [3, 8], 'P2': [7, 8] }
                                , { 'P1': [7, 6], 'P2': [7, 11] }
                                , { 'P1': [7, 10], 'P2': [9, 10] }
                                , { 'P1': [8, 10], 'P2': [9, 10] }
                                , { 'P1': [5, 10], 'P2': [5, 13] }
                                , { 'P1': [5, 13], 'P2': [12, 13] }
                                , { 'P1': [9, 8], 'P2': [15, 8] }
                                , { 'P1': [11, 8], 'P2': [12, 13] }
                            //                                , { 'P1': [12, 8], 'P2': [12, 13] }
                                , { 'P1': [15, 3], 'P2': [15, 8] }
                                , { 'P1': [15, 3], 'P2': [17, 3] }
                                , { 'P1': [17, 3], 'P2': [17, 6] }
                                , { 'P1': [4, 20], 'P2': [18, 20] }
                                , { 'P1': [4, 18], 'P2': [6, 18] }
                                , { 'P1': [4, 18], 'P2': [4, 20] }
                                , { 'P1': [6, 18], 'P2': [6, 20] }
                                , { 'P1': [8, 17], 'P2': [9, 18] }
                            //                                , { 'P1': [9, 17], 'P2': [9, 18] }
                                , { 'P1': [11, 17], 'P2': [11, 18] }
                                , { 'P1': [13, 13], 'P2': [13, 20] }
                                , { 'P1': [16, 10], 'P2': [16, 17] }
                                , { 'P1': [14, 10], 'P2': [17, 11] }
                                , { 'P1': [17, 8], 'P2': [17, 11] }
                                , { 'P1': [17, 8], 'P2': [19, 8] }
                                , { 'P1': [19, 1], 'P2': [19, 9] }
                                , { 'P1': [21, 2], 'P2': [21, 11] }
                                , { 'P1': [19, 11], 'P2': [21, 11] }
                                , { 'P1': [19, 11], 'P2': [19, 26] }
                                , { 'P1': [1, 24], 'P2': [23, 24] }
                                , { 'P1': [19, 26], 'P2': [23, 26] }
                                , { 'P1': [21, 13], 'P2': [21, 22] }
                                , { 'P1': [23, 1], 'P2': [23, 13] }
                                , { 'P1': [21, 13], 'P2': [23, 13] }
                                , { 'P1': [21, 22], 'P2': [26, 22] }
                                , { 'P1': [23, 15], 'P2': [23, 20] }
                                , { 'P1': [23, 15], 'P2': [25, 16] }
                            //, { 'P1': [23, 16], 'P2': [25, 16] }
                                , { 'P1': [25, 8], 'P2': [25, 16] }
                                , { 'P1': [26, 8], 'P2': [26, 11] }
                                , { 'P1': [26, 12], 'P2': [26, 13] }
                                , { 'P1': [25, 2], 'P2': [36, 2] }
                                , { 'P1': [36, 2], 'P2': [36, 3] }
                                , { 'P1': [31, 2], 'P2': [31, 21] }
                                , { 'P1': [25, 4], 'P2': [31, 4] }
                                , { 'P1': [23, 6], 'P2': [28, 6] }
                                , { 'P1': [28, 6], 'P2': [28, 15] }
                                , { 'P1': [27, 15], 'P2': [28, 15] }
                                , { 'P1': [34, 4], 'P2': [34, 7] }
                                , { 'P1': [33, 5], 'P2': [37, 5] }
                                , { 'P1': [37, 5], 'P2': [37, 16] }
                                , { 'P1': [36, 8], 'P2': [36, 10] }
                                , { 'P1': [36, 14], 'P2': [36, 16] }
                                , { 'P1': [33, 18], 'P2': [36, 18] }
                                , { 'P1': [31, 14], 'P2': [34, 14] }
                                , { 'P1': [31, 12], 'P2': [34, 12] }
                                , { 'P1': [31, 9], 'P2': [34, 10] }
                                , { 'P1': [33, 16], 'P2': [33, 19] }
                                , { 'P1': [23, 17], 'P2': [31, 17] }
                                , { 'P1': [26, 19], 'P2': [26, 29] }
                                , { 'P1': [28, 21], 'P2': [36, 21] }
                                , { 'P1': [28, 23], 'P2': [36, 23] }
                                , { 'P1': [36, 18], 'P2': [36, 21] }
                                , { 'P1': [36, 23], 'P2': [36, 26] }
                                , { 'P1': [28, 17], 'P2': [28, 31] }
                                , { 'P1': [19, 31], 'P2': [28, 31] }
                                , { 'P1': [32, 28], 'P2': [37, 28] }
                                , { 'P1': [32, 25], 'P2': [32, 33] }
                                , { 'P1': [25, 33], 'P2': [33, 33] }
                                , { 'P1': [25, 33], 'P2': [25, 37] }
                                , { 'P1': [25, 37], 'P2': [30, 37] }
                                , { 'P1': [27, 35], 'P2': [36, 35] }
                                , { 'P1': [35, 31], 'P2': [35, 35] }
                                , { 'P1': [32, 37], 'P2': [36, 37] }
                                , { 'P1': [23, 39], 'P2': [36, 39] }
                                , { 'P1': [23, 33], 'P2': [23, 39] }
                                , { 'P1': [19, 33], 'P2': [23, 33] }
                                , { 'P1': [19, 31], 'P2': [19, 33] }
                                , { 'P1': [32, 35], 'P2': [32, 39] }
                                , { 'P1': [8, 26], 'P2': [17, 26] }
                                , { 'P1': [8, 26], 'P2': [8, 30] }
                                , { 'P1': [8, 30], 'P2': [11, 30] }
                                , { 'P1': [8, 28], 'P2': [11, 28] }
                                , { 'P1': [11, 28], 'P2': [11, 30] }
                                , { 'P1': [13, 28], 'P2': [13, 30] }
                                , { 'P1': [13, 28], 'P2': [26, 28] }
                                , { 'P1': [17, 26], 'P2': [17, 38] }
                                , { 'P1': [1, 24], 'P2': [1, 40] }
                                , { 'P1': [1, 40], 'P2': [22, 40] }
                                , { 'P1': [3, 35], 'P2': [20, 35] }
                                , { 'P1': [3, 38], 'P2': [20, 38] }
                                , { 'P1': [4, 26], 'P2': [4, 35] }
                                , { 'P1': [6, 24], 'P2': [6, 33] }
                                , { 'P1': [6, 33], 'P2': [14, 33] }
                                , { 'P1': [24, 41], 'P2': [37, 41] }
                                , { 'P1': [37, 41], 'P2': [37, 50] }
                                , { 'P1': [24, 41], 'P2': [24, 45] }
                                , { 'P1': [24, 45], 'P2': [31, 45] }
                                , { 'P1': [26, 43], 'P2': [35, 43] }
                                , { 'P1': [33, 43], 'P2': [33, 48] }
                                , { 'P1': [20, 47], 'P2': [33, 47] }
                                , { 'P1': [20, 40], 'P2': [20, 49] }
                                , { 'P1': [2, 42], 'P2': [2, 50] }
                                , { 'P1': [2, 50], 'P2': [6, 50] }
                                , { 'P1': [2, 42], 'P2': [7, 42] }
                                , { 'P1': [7, 42], 'P2': [7, 46] }
                                , { 'P1': [4, 44], 'P2': [4, 48] }
                                , { 'P1': [4, 48], 'P2': [6, 48] }
                                , { 'P1': [6, 48], 'P2': [6, 50] }
                                , { 'P1': [8, 47], 'P2': [11, 47] }
                                , { 'P1': [9, 47], 'P2': [9, 51] }
                                , { 'P1': [9, 40], 'P2': [9, 45] }
                                , { 'P1': [9, 45], 'P2': [16, 45] }
                                , { 'P1': [13, 45], 'P2': [13, 50] }
                                , { 'P1': [11, 50], 'P2': [13, 50] }
                                , { 'P1': [11, 42], 'P2': [18, 42] }
                                , { 'P1': [18, 42], 'P2': [18, 50] }
                                , { 'P1': [15, 51], 'P2': [28, 51] }
                                , { 'P1': [28, 49], 'P2': [28, 51] }
                                , { 'P1': [31, 47], 'P2': [31, 50] }
                                , { 'P1': [13, 47], 'P2': [16, 47] }
                                , { 'P1': [15, 49], 'P2': [18, 49] }
                                , { 'P1': [34, 49], 'P2': [35, 50] }
                            //, { 'P1': [34, 50], 'P2': [35, 50] }
                                ]
                        }
                                , 'PointStart': [1, 1]
                                , 'PointEnd': [5, 49]
                                , 'Size': { 'Width': 51, 'Height': 37 }
                            //, 'events': { 'onError': showError }
                        };
                        break;
                    case '12x21':
                        retMap = { 'Map': { 'Blocks': [
                                 { 'P1': [2, 4], 'P2': [8, 4] }
                                , { 'P1': [8, 4], 'P2': [8, 11] }
                                , { 'P1': [3, 6], 'P2': [3, 6] }
                                , { 'P1': [3, 8], 'P2': [3, 12] }
                                , { 'P1': [6, 6], 'P2': [6, 12] }
                                , { 'P1': [3, 12], 'P2': [6, 12] }
                                , { 'P1': [8, 11], 'P2': [18, 11] }
                                , { 'P1': [18, 9], 'P2': [18, 11] }
                                , { 'P1': [11, 1], 'P2': [11, 9] }
                                , { 'P1': [11, 9], 'P2': [18, 9] }
                                , { 'P1': [11, 1], 'P2': [21, 1] }
                                , { 'P1': [21, 1], 'P2': [21, 8] }
                                , { 'P1': [20, 8], 'P2': [21, 8] }
                                , { 'P1': [20, 8], 'P2': [20, 12] }
                           ]
                        }
                                , 'PointStart': [3, 5]
                                , 'PointEnd': [8, 3]
                                , 'Size': { 'Width': 12, 'Height': 21 }
                            //, 'events': { 'onError': showError }
                        };
                        break;
                    case '20x20':
                        retMap = { 'Map': { 'Blocks': [
                                  { 'P1': [2, 6], 'P2': [4, 6] }
                                , { 'P1': [4, 6], 'P2': [4, 8] }
                                , { 'P1': [3, 8], 'P2': [3, 15] }
                                , { 'P1': [2, 15], 'P2': [7, 15] }
                                , { 'P1': [6, 8], 'P2': [10, 8] }
                                , { 'P1': [7, 8], 'P2': [7, 15] }
                                , { 'P1': [7, 10], 'P2': [10, 10] }
                                , { 'P1': [10, 10], 'P2': [10, 18] }
                                , { 'P1': [9, 18], 'P2': [9, 20] }
                                , { 'P1': [10, 2], 'P2': [10, 8] }
                                , { 'P1': [10, 2], 'P2': [12, 2] }
                                , { 'P1': [12, 2], 'P2': [12, 8] }
                                , { 'P1': [12, 8], 'P2': [14, 8] }
                                , { 'P1': [14, 2], 'P2': [14, 8] }
                                , { 'P1': [13, 11], 'P2': [13, 14] }
                                , { 'P1': [13, 11], 'P2': [16, 11] }
                                , { 'P1': [16, 11], 'P2': [16, 15] }
                                , { 'P1': [14, 4], 'P2': [16, 4] }
                                , { 'P1': [16, 4], 'P2': [16, 8] }
                                , { 'P1': [16, 8], 'P2': [18, 8] }
                                , { 'P1': [18, 4], 'P2': [18, 8] }
                                , { 'P1': [18, 5], 'P2': [19, 5] }
                                , { 'P1': [18, 7], 'P2': [19, 7] }
                                , { 'P1': [18, 16], 'P2': [19, 16] }
                                , { 'P1': [18, 16], 'P2': [18, 20] }
                            ]
                        }
                                , 'Size': { 'Width': 20, 'Height': 20 }
                                , 'PointStart': [3, 17]
                                , 'PointEnd': [17, 12]
                        };
                        break;
                    case '15x19':
                        retMap = { 'Map': { 'Blocks': [
                                    { 'P1': [1, 1], 'P2': [8, 1] }
                                    , { 'P1': [3, 2], 'P2': [8, 2] }
                                    , { 'P1': [2, 3], 'P2': [9, 3] }
                                    , { 'P1': [2, 3], 'P2': [2, 13] }
                                    , { 'P1': [2, 13], 'P2': [17, 13] }
                                    , { 'P1': [8, 12], 'P2': [12, 12] }
                                    , { 'P1': [12, 11], 'P2': [13, 11] }
                                    , { 'P1': [13, 10], 'P2': [15, 10] }
                                    , { 'P1': [14, 9], 'P2': [15, 9] }
                                    , { 'P1': [15, 9], 'P2': [15, 13] }
                                    , { 'P1': [17, 2], 'P2': [17, 13] }
                                    , { 'P1': [14, 7], 'P2': [15, 7] }
                                    , { 'P1': [13, 6], 'P2': [14, 6] }
                                    , { 'P1': [11, 5], 'P2': [13, 5] }
                                    , { 'P1': [9, 4], 'P2': [11, 4] }
                                    , { 'P1': [11, 2], 'P2': [16, 2] }
                                    , { 'P1': [13, 3], 'P2': [16, 3] }
                                    , { 'P1': [15, 4], 'P2': [16, 4] }
                                    , { 'P1': [16, 2], 'P2': [16, 5] }
                                    , { 'P1': [1, 15], 'P2': [19, 15] }
                                    , { 'P1': [19, 1], 'P2': [19, 15] }
                                ]
                        }
                                , 'Size': { 'Width': 15, 'Height': 19 }
                                , 'PointStart': [15, 8]
                                , 'PointEnd': [2, 2]
                        };
                        break;
                    case '15x15':
                        retMap = { 'Map': { 'Blocks':
                                [{ 'P1': [2, 3], 'P2': [5, 3] }, { 'P1': [3, 3], 'P2': [3, 7] }, { 'P1': [7, 1], 'P2': [7, 2] }
                                    , { 'P1': [1, 10], 'P2': [5, 10] }, { 'P1': [1, 12], 'P2': [5, 12] }, { 'P1': [3, 12], 'P2': [3, 14] }
                                    , { 'P1': [3, 14], 'P2': [7, 14] }, { 'P1': [7, 6], 'P2': [7, 8] }, { 'P1': [7, 6], 'P2': [10, 6] }
                                    , { 'P1': [7, 10], 'P2': [7, 14] }, { 'P1': [7, 12], 'P2': [9, 12] }, { 'P1': [10, 2], 'P2': [10, 9] }
                                    , { 'P1': [10, 5], 'P2': [15, 5] }, { 'P1': [13, 1], 'P2': [13, 2] }, { 'P1': [15, 4], 'P2': [15, 5] }
                                    , { 'P1': [10, 8], 'P2': [14, 8] }, { 'P1': [14, 8], 'P2': [14, 9] }, { 'P1': [11, 12], 'P2': [11, 14] }
                                    , { 'P1': [11, 12], 'P2': [14, 12] }
                                    ]
                        }
                                , 'Size': { 'Width': 15, 'Height': 15 }
                                , 'PointStart': [15, 15]
                                , 'PointEnd': [1, 1]
                        };
                        break;
                    case '4x4':
                    default:
                        retMap = { 'Map': { 'Blocks': [{ 'P1': [3, 2], 'P2': [3, 3]}] }
                                , 'PointStart': [4, 1]
                                , 'PointEnd': [1, 2]
                                , 'Size': { 'Width': 4, 'Height': 4 }
                            //, 'events': { 'onError': showError }
                        };
                        break;
                };
            } catch (Error) { privateParameters.events.onError(Error); }
            return retMap;
        };

        _initialize(size);
        //Public
        this.GenerateMap = function (size) {
            if (size) { return _generateMap(size); }
            else return null;
        };
    };
    window.Map = function () { return new _Map(); }
})();